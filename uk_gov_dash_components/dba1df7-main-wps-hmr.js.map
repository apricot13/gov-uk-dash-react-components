{"version":3,"sources":["webpack:///./src/lib/fragments/AutoComplete.react.js"],"names":["AutoComplete","defaultProps","id","autoselect","cssNamespace","value","displayMenu","minLength","name","placeholder","onConfirm","confirmOnBlur","showNoOptionsFound","showAllValues","required","tNoResults","tAssistiveHint","source","templates","dropdownArrowFactory","dropdownArrow","tStatusQueryTooShort","tStatusNoResults","tStatusSelectedOption","tStatusResults","setProps","ariaLabelledBy","Error","createSimpleEngine","values","query","syncResults","matches","filter","r","toLowerCase","indexOf","dataSource","Array","isArray","useState","isFocus","setFocus","isHover","setHover","isMenuOpen","setMenuOpen","options","setOptions","setQuery","validChoiceMade","setValidChoiceMade","selected","setSelected","ariaHint","setAriaHint","elementReferences","templateInputValue","inputValueTemplate","inputValue","templateSuggestion","suggestionTemplate","suggestion","isQueryAnOption","map","entry","handleComponentBlur","newState","newQuery","menuOpen","handleListMouseLeave","handleOptionBlur","event","index","focusingOutsideComponent","relatedTarget","focusingInput","focusingAnotherOption","blurComponent","keepMenuOpen","isIOSDevice","handleInputBlur","focusingAnOption","handleInputFocus","shouldReopenMenu","length","handleOptionFocus","handleOptionMouseEnter","hasAutoselect","handleInputChange","target","queryChanged","queryLongEnough","searchForOptions","optionsAvailable","handleOptionClick","selectedOption","handleOptionMouseDown","preventDefault","handleUpArrow","allowMoveUp","handleDownArrow","isNotAtBottom","allowMoveDown","handleSpace","focusIsOnOption","handleEnter","hasSelectedOption","handlePrintableKey","inputElement","eventIsOnInput","focus","handleKeyDown","keyCodes","keyCode","isPrintableKeyCode","useEffect","useInterval","inputReference","queryHasChanged","autoselectRend","inputFocused","noOptionsAvailable","queryNotEmpty","showNoOptionsFoundRender","wrapperClassName","inputClassName","componentIsFocused","inputModifierFocused","inputModifierType","dropdownArrowClassName","optionFocused","menuClassName","menuModifierDisplayMenu","menuIsVisible","menuModifierVisibility","optionClassName","hintClassName","selectedOptionText","optionBeginsWithQuery","hintValue","substr","assistiveHintID","ariaDescribedProp","className","__html","option","showFocused","optionModifierFocused","optionModifierOdd","iosPosinsetHtml","optionEl","display","enhanceSelectElement","configurationOptions","selectElement","availableOptions","call","preserveNullOptions","textContent","innerText","requestedOption","Event","bubbles","cancelable","dispatchEvent","undefined","selectedIndex","element","document","createElement","parentNode","insertBefore","render","style","propTypes"],"mappings":"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","file":"dba1df7-main-wps-hmr.js","sourcesContent":["/* eslint-disable no-undefined */\nimport React, { useState, useEffect, render } from 'react';\nimport { useInterval } from 'usehooks-ts'\nimport { defaultProps, propTypes } from '../components/AutoComplete.react';\nimport { isIOSDevice } from '../helper/isIOS';\nimport { isPrintableKeyCode, keyCodes } from '../helper/keys';\nimport Status from '../components/status'\nimport './autocomplete.css';\n\n/**\n * Autocomplete to GOV GDS\n *\n * @param {*} [{\n * \tid,\n * \tautoselect,\n * \tcssNamespace,\n * \tvalue,\n * \tdisplayMenu,\n * \tminLength,\n * \tname,\n * \tplaceholder,\n * \tonConfirm,\n * \tconfirmOnBlur,\n * \tshowNoOptionsFound,\n * \tshowAllValues,\n * \trequired,\n * \ttNoResults,\n * \ttAssistiveHint,\n * \tsource,\n * \ttemplates,\n * \tdropdownArrow: dropdownArrowFactory,\n * \ttStatusQueryTooShort,\n * \ttStatusNoResults,\n * \ttStatusSelectedOption,\n * \ttStatusResults,\n * }=defaultProps]\n * @return {*}\n */\nconst AutoComplete = ({\n\tid,\n\tautoselect,\n\tcssNamespace,\n\tvalue,\n\tdisplayMenu,\n\tminLength,\n\tname,\n\tplaceholder,\n\tonConfirm,\n\tconfirmOnBlur,\n\tshowNoOptionsFound,\n\tshowAllValues,\n\trequired,\n\ttNoResults,\n\ttAssistiveHint,\n\tsource,\n\ttemplates,\n\tdropdownArrow: dropdownArrowFactory,\n\ttStatusQueryTooShort,\n\ttStatusNoResults,\n\ttStatusSelectedOption,\n\ttStatusResults,\n\tsetProps,\n\tariaLabelledBy\n} = defaultProps) => {\n\tif (!id) { throw new Error('id is not defined') }\n\tif (!source) { throw new Error('source is not defined') }\n\t// if (configurationOptions.preserveNullOptions === undefined) configurationOptions.preserveNullOptions = true\n\t// if (configurationOptions.autoselect === undefined) configurationOptions.autoselect = true\n\t// if (configurationOptions.showAllValues === undefined) configurationOptions.showAllValues = true\n\t// if (configurationOptions.confirmOnBlur === undefined) configurationOptions.confirmOnBlur = true\n\t// if (configurationOptions.alwaysDisplayArrow === undefined) configurationOptions.alwaysDisplayArrow = true\n\n\tconst createSimpleEngine = (values) => (query, syncResults) => {\n\t\tvar matches = values.filter(r => r.toLowerCase().indexOf(query.toLowerCase()) !== -1)\n\t\tsyncResults(matches)\n\t}\n\tconst dataSource = Array.isArray(source) ? createSimpleEngine(source) : source;\n\tconst [ isFocus, setFocus ] = useState(null);\n\tconst [ isHover, setHover ] = useState(null);\n\tconst [ isMenuOpen, setMenuOpen ] = useState(false);\n\tconst [options, setOptions] = useState(value ? [value] : []);\n\tconst [query, setQuery] = useState(value);\n\tconst [ validChoiceMade, setValidChoiceMade ] = useState(false);\n\tconst [ selected, setSelected ] = useState(null);\n\tconst [ ariaHint, setAriaHint ] = useState(true);\n\n\tconst elementReferences = {};\n\n\n\t// This template is used when converting from a state.options object into a state.query.\n\tconst templateInputValue = (value) => {\n\t\tconst inputValueTemplate = templates?.inputValue\n\t\treturn inputValueTemplate ? inputValueTemplate(value) : value\n\t}\n\n\t// This template is used when displaying results / suggestions.\n\tconst templateSuggestion = (value) => {\n\t\tconst suggestionTemplate = templates?.suggestion\n\t\treturn suggestionTemplate ? suggestionTemplate(value) : value\n\t}\n\n\tconst isQueryAnOption = (query, options) => {\n\t\treturn options.map(entry => templateInputValue(entry).toLowerCase()).indexOf(query.toLowerCase()) !== -1\n\t}\n\n\tconst handleComponentBlur = (newState) => {\n\t\tlet newQuery\n\t\tif (confirmOnBlur) {\n\t\t\tnewQuery = newState.query || query\n\t\t\tonConfirm(options[selected])\n\t\t} else {\n\t\t\tnewQuery = query\n\t\t}\n\t\tsetFocus(null);\n\t\tsetMenuOpen(newState.menuOpen || false);\n\t\tsetQuery(newQuery);\n\t\tsetSelected(null);\n\t\tsetValidChoiceMade(isQueryAnOption(newQuery, options))\n\t}\n\n\tconst handleListMouseLeave = () => {\n\t\tsetHover(null);\n\t}\n\n\tconst handleOptionBlur = (event, index) => {\n\t\tconst focusingOutsideComponent = event.relatedTarget === null\n\t\tconst focusingInput = event.relatedTarget === elementReferences[-1]\n\t\tconst focusingAnotherOption = isFocus !== index && isFocus !== -1\n\t\tconst blurComponent = (!focusingAnotherOption && focusingOutsideComponent) || !(focusingAnotherOption || focusingInput)\n\t\tif (blurComponent) {\n\t\t\tconst keepMenuOpen = isMenuOpen && isIOSDevice()\n\t\t\thandleComponentBlur({\n\t\t\t\tmenuOpen: keepMenuOpen,\n\t\t\t\tquery: templateInputValue(options[selected])\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleInputBlur = () => {\n\t\tconst focusingAnOption = isFocus !== -1\n\t\tif (!focusingAnOption) {\n\t\t\tconst keepMenuOpen = isMenuOpen && isIOSDevice()\n\t\t\tconst newQuery = isIOSDevice() ? query : templateInputValue(options[selected])\n\t\t\thandleComponentBlur({\n\t\t\t\tmenuOpen: keepMenuOpen,\n\t\t\t\tquery: newQuery\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleInputFocus = () => {\n\t\tconst shouldReopenMenu = !validChoiceMade && query.length >= minLength && options.length > 0\n\t\tsetFocus(-1);\n\t\tif (shouldReopenMenu) {\n\t\t\tsetMenuOpen(shouldReopenMenu || isMenuOpen);\n\t\t\tsetSelected(-1)\n\t\t}\n\t}\n\n\tconst handleOptionFocus = (index) => {\n\t\tsetFocus(index);\n\t\tsetHover(null);\n\t\tsetSelected(index);\n\t}\n\n\tconst handleOptionMouseEnter = (index) => {\n\t\t// iOS Safari prevents click event if mouseenter adds hover background colour\n\t\t// See: https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/HandlingEvents/HandlingEvents.html#//apple_ref/doc/uid/TP40006511-SW4\n\t\tif (!isIOSDevice()) {\n\t\t\tsetHover(index)\n\t\t}\n\t}\n\n\tconst hasAutoselect = () => {\n\t\treturn isIOSDevice() ? false : autoselect\n\t}\n\n\n\tconst handleInputChange = (event) => {\n\t\tconst autoselect = hasAutoselect()\n\n\t\tconst query = event.target.value\n\t\tconst queryChanged = query !== event.target.value\n\t\tconst queryLongEnough = query.length >= minLength\n\n\t\tsetQuery(event.target.value)\n\t\tsetAriaHint()\n\n\t\tconst searchForOptions = showAllValues || (query.length && queryChanged && queryLongEnough)\n\t\tif (searchForOptions) {\n\t\t\tdataSource(query, (options) => {\n\t\t\t\tconst optionsAvailable = options.length > 0\n\t\t\t\tsetMenuOpen(optionsAvailable);\n\t\t\t\tsetOptions(options);\n\t\t\t\tsetSelected((autoselect && optionsAvailable) ? 0 : -1);\n\t\t\t\tsetValidChoiceMade(false);\n\t\t\t})\n\t\t} else if (!query.length || !queryLongEnough) {\n\t\t\tsetMenuOpen(false);\n\t\t\tsetOptions([]);\n\t\t}\n\t}\n\n\tconst handleOptionClick = (event, index) => {\n\t\tconst selectedOption = options[index]\n\t\tconst newQuery = templateInputValue(selectedOption)\n\t\tonConfirm(selectedOption)\n\t\tsetFocus(-1);\n\t\tsetHover(null);\n\t\tsetMenuOpen(false);\n\t\tsetQuery(newQuery)\n\t\tsetSelected(-1);\n\t\tsetValidChoiceMade(true);\n\t}\n\n\tconst handleOptionMouseDown = (event) => {\n\t\t// Safari triggers focusOut before click, but if you\n\t\t// preventDefault on mouseDown, you can stop that from happening.\n\t\t// If this is removed, clicking on an option in Safari will trigger\n\t\t// `handleOptionBlur`, which closes the menu, and the click will\n\t\t// trigger on the element underneath instead.\n\t\t// See: http://stackoverflow.com/questions/7621711/how-to-prevent-blur-running-when-clicking-a-link-in-jquery\n\t\tevent.preventDefault()\n\t}\n\n\tconst handleUpArrow = (event) => {\n\t\tevent.preventDefault()\n\t\tconst allowMoveUp = selected !== -1 && isMenuOpen\n\t\tif (allowMoveUp) {\n\t\t\thandleOptionFocus(selected - 1)\n\t\t}\n\t}\n\n\tconst handleDownArrow = (event) => {\n\t\tevent.preventDefault()\n\t\t// if not open, open\n\t\tif (showAllValues && isMenuOpen === false) {\n\t\t\tevent.preventDefault()\n\t\t\tdataSource('', (options) => {\n\t\t\t\tsetMenuOpen(true);\n\t\t\t\tsetOptions(options);\n\t\t\t\tsetSelected(0);\n\t\t\t\tsetFocus(0);\n\t\t\t\tsetHover(null);\n\t\t\t})\n\t\t} else if (isMenuOpen) {\n\t\t\tconst isNotAtBottom = selected !== options.length - 1\n\t\t\tconst allowMoveDown = isNotAtBottom && isMenuOpen\n\t\t\tif (allowMoveDown) {\n\t\t\t\thandleOptionFocus(selected + 1)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleSpace = (event) => {\n\t\t// if not open, open\n\t\tif (showAllValues && isMenuOpen === false && query === '') {\n\t\t\tevent.preventDefault()\n\t\t\tdataSource('', (options) => {\n\t\t\t\tsetMenuOpen(true);\n\t\t\t\tsetOptions(options);\n\t\t\t})\n\t\t}\n\t\tconst focusIsOnOption = isFocus !== -1\n\t\tif (focusIsOnOption) {\n\t\t\tevent.preventDefault()\n\t\t\thandleOptionClick(event, isFocus)\n\t\t}\n\t}\n\n\tconst handleEnter = (event) => {\n\t\tif (isMenuOpen) {\n\t\t\tevent.preventDefault()\n\t\t\tconst hasSelectedOption = selected >= 0\n\t\t\tif (hasSelectedOption) {\n\t\t\t\thandleOptionClick(event, selected)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handlePrintableKey = (event) => {\n\t\tconst inputElement = elementReferences[-1]\n\t\tconst eventIsOnInput = event.target === inputElement\n\t\tif (!eventIsOnInput) {\n\t\t\tinputElement.focus()\n\t\t}\n\t}\n\n\n\tconst handleKeyDown = (event) => {\n\t\tswitch (keyCodes[event.keyCode]) {\n\t\t\tcase 'up':\n\t\t\t\thandleUpArrow(event)\n\t\t\t\tbreak\n\t\t\tcase 'down':\n\t\t\t\thandleDownArrow(event)\n\t\t\t\tbreak\n\t\t\tcase 'space':\n\t\t\t\thandleSpace(event)\n\t\t\t\tbreak\n\t\t\tcase 'enter':\n\t\t\t\thandleEnter(event)\n\t\t\t\tbreak\n\t\t\tcase 'escape':\n\t\t\t\thandleComponentBlur({\n\t\t\t\t\tquery: query\n\t\t\t\t})\n\t\t\t\tbreak\n\t\t\tdefault:\n\t\t\t\tif (isPrintableKeyCode(event.keyCode)) {\n\t\t\t\t\thandlePrintableKey(event)\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tif (typeof setProps === 'function' ) {\n\t\t\tsetProps({ value: query})\n\t\t}\n\t\tsetAriaHint(!query?.length)\n\t}, [query])\n\n\tuseInterval(() => {\n\t\tconst inputReference = elementReferences[-1]\n\t\tconst queryHasChanged = inputReference?.value !== query\n\t\tif (queryHasChanged) {\n\t\t\thandleInputChange({ target: { value: inputReference.value } })\n\t\t}\n\t}, 100)\n\n\tconst autoselectRend = hasAutoselect()\n\n\tconst inputFocused = isFocus === -1\n\tconst noOptionsAvailable = options?.length === 0\n\tconst queryNotEmpty = query?.length !== 0\n\tconst queryLongEnough = query?.length >= minLength\n\tconst showNoOptionsFoundRender = showNoOptionsFound &&\n\t\tinputFocused && noOptionsAvailable && queryNotEmpty && queryLongEnough\n\n\tconst wrapperClassName = `${cssNamespace}__wrapper`\n\n\tconst inputClassName = `${cssNamespace}__input`\n\tconst componentIsFocused = isFocus !== null\n\tconst inputModifierFocused = componentIsFocused ? ` ${inputClassName}--focused` : ''\n\tconst inputModifierType = showAllValues ? ` ${inputClassName}--show-all-values` : ` ${inputClassName}--default`\n\tconst dropdownArrowClassName = `${cssNamespace}__dropdown-arrow-down`\n\tconst optionFocused = isFocus !== -1 && isFocus !== null\n\n\tconst menuClassName = `${cssNamespace}__menu`\n\tconst menuModifierDisplayMenu = `${menuClassName}--${displayMenu}`\n\tconst menuIsVisible = isMenuOpen || showNoOptionsFoundRender\n\tconst menuModifierVisibility = `${menuClassName}--${(menuIsVisible) ? 'visible' : 'hidden'}`\n\n\tconst optionClassName = `${cssNamespace}__option`\n\n\tconst hintClassName = `${cssNamespace}__hint`\n\tconst selectedOptionText = templateInputValue(options?.[selected])\n\tconst optionBeginsWithQuery = selectedOptionText &&\n\t\tselectedOptionText.toLowerCase().indexOf(query.toLowerCase()) === 0\n\tconst hintValue = (optionBeginsWithQuery && autoselectRend)\n\t\t? query + selectedOptionText.substr(query?.length)\n\t\t: ''\n\n\tconst assistiveHintID = id + '__assistiveHint'\n\tconst ariaDescribedProp = (ariaHint) ? {\n\t\t'aria-describedby': assistiveHintID\n\t} : null\n\n\tlet dropdownArrow\n\n\t// we only need a dropdown arrow if showAllValues is set to a truthy value\n\tif (showAllValues) {\n\t\tdropdownArrow = dropdownArrowFactory({ className: dropdownArrowClassName })\n\n\t\t// if the factory returns a string we'll render this as HTML (usage w/o (P)React)\n\t\tif (typeof dropdownArrow === 'string') {\n\t\t\tdropdownArrow = <div className={`${cssNamespace}__dropdown-arrow-down-wrapper`} dangerouslySetInnerHTML={{ __html: dropdownArrow }} />\n\t\t}\n\t}\n\n\n\treturn (\n\t\t<div className={wrapperClassName} onKeyDown={handleKeyDown}>\n\t\t\t<Status\n\t\t\t\tid={id}\n\t\t\t\tlength={options?.length}\n\t\t\t\tqueryLength={query?.length}\n\t\t\t\tminQueryLength={minLength}\n\t\t\t\tselectedOption={templateInputValue(options?.[selected])}\n\t\t\t\tselectedOptionIndex={selected}\n\t\t\t\tvalidChoiceMade={validChoiceMade}\n\t\t\t\tisInFocus={isFocus !== null}\n\t\t\t\ttQueryTooShort={tStatusQueryTooShort}\n\t\t\t\ttNoResults={tStatusNoResults}\n\t\t\t\ttSelectedOption={tStatusSelectedOption}\n\t\t\t\ttResults={tStatusResults}\n\t\t\t/>\n\n\t\t\t{hintValue && (\n\t\t\t\t<span><input className={hintClassName} readonly tabIndex='-1' value={hintValue} /></span>\n\t\t\t)}\n\n\t\t\t<input\n\t\t\t\taria-expanded={isMenuOpen ? 'true' : 'false'}\n\t\t\t\t{\n\t\t\t\t...(optionFocused) ? {\n\t\t\t\t\t\t'aria-activedescendant': `${id}__option--${isFocus}`\n\t\t\t\t\t} : null\n\t\t\t\t}\n\t\t\t\taria-owns={`${id}__listbox`}\n\t\t\t\taria-autocomplete={(hasAutoselect()) ? 'both' : 'list'}\n\t\t\t\taria-labelledby={ariaLabelledBy}\n\t\t\t\t{...ariaDescribedProp}\n\t\t\t\tautoComplete='off'\n\t\t\t\tclassName={`${inputClassName}${inputModifierFocused}${inputModifierType}`}\n\t\t\t\tid={id}\n\t\t\t\tonClick={(event) => handleInputChange(event)}\n\t\t\t\tonBlur={handleInputBlur}\n\t\t\t\tonChange={handleInputChange}\n\t\t\t\tonFocus={handleInputFocus}\n\t\t\t\tname={name}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tref={(inputElement) => { elementReferences[-1] = inputElement; }}\n\t\t\t\ttype='text'\n\t\t\t\trole='combobox'\n\t\t\t\trequired={required}\n\t\t\t\tvalue={query}\n\t\t\t/>\n\t\t\t{dropdownArrow}\n\t\t\t<ul\n\t\t\t\tclassName={`${menuClassName} ${menuModifierDisplayMenu} ${menuModifierVisibility}`}\n\t\t\t\tonMouseLeave={(event) => handleListMouseLeave(event)}\n\t\t\t\tid={`${id}__listbox`}\n\t\t\t\trole='listbox'\n\t\t\t>\n\t\t\t\t{options?.map((option, index) => {\n\t\t\t\t\tconst showFocused = isFocus === -1 ? selected === index : isFocus === index\n\t\t\t\t\tconst optionModifierFocused = showFocused && isHover === null ? ` ${optionClassName}--focused` : ''\n\t\t\t\t\tconst optionModifierOdd = (index % 2) ? ` ${optionClassName}--odd` : ''\n\t\t\t\t\tconst iosPosinsetHtml = (isIOSDevice())\n\t\t\t\t\t\t? `<span id=${id}__option-suffix--${index} style=\"border:0;clip:rect(0 0 0 0);height:1px;` +\n\t\t\t\t\t\t'marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;' +\n\t\t\t\t\t\t'whiteSpace:nowrap;width:1px\">' + ` ${index + 1} of ${options?.length}</span>`\n\t\t\t\t\t\t: ''\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\taria-selected={isFocus === index ? 'true' : 'false'}\n\t\t\t\t\t\t\tclassName={`${optionClassName}${optionModifierFocused}${optionModifierOdd}`}\n\t\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: templateSuggestion(option) + iosPosinsetHtml }}\n\t\t\t\t\t\t\tid={`${id}__option--${index}`}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tonBlur={(event) => handleOptionBlur(event, index)}\n\t\t\t\t\t\t\tonClick={(event) => handleOptionClick(event, index)}\n\t\t\t\t\t\t\tonMouseDown={handleOptionMouseDown}\n\t\t\t\t\t\t\tonMouseEnter={() => handleOptionMouseEnter(index)}\n\t\t\t\t\t\t\tref={(optionEl) => { elementReferences[index] = optionEl; }}\n\t\t\t\t\t\t\trole='option'\n\t\t\t\t\t\t\ttabIndex='-1'\n\t\t\t\t\t\t\taria-posinset={index + 1}\n\t\t\t\t\t\t\taria-setsize={options.length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t\t{showNoOptionsFoundRender && (\n\t\t\t\t\t<li className={`${optionClassName} ${optionClassName}--no-results`}>{tNoResults()}</li>\n\t\t\t\t)}\n\t\t\t</ul>\n\n\t\t\t<span id={assistiveHintID} style={{ display: 'none' }}>{tAssistiveHint()}</span>\n\n\t\t</div>\n\t)\n}\n/**\n * ExampleComponent is an example component.\n * It takes a property, `label`, and\n * displays it.\n * It renders an input with the property `value`\n * which is editable by the user.\n */\nexport default AutoComplete;\n\nAutoComplete.enhanceSelectElement = (configurationOptions) => {\n\tif (!configurationOptions.selectElement) { throw new Error('selectElement is not defined') }\n\n\t// Set defaults.\n\tif (!configurationOptions.source) {\n\t\tconst availableOptions = [].filter.call(configurationOptions.selectElement.options, option => (option.value || configurationOptions.preserveNullOptions))\n\t\tconfigurationOptions.source = availableOptions.map(option => option.textContent || option.innerText)\n\t}\n\tconfigurationOptions.onConfirm = configurationOptions.onConfirm || (query => {\n\t\tconst requestedOption = [].filter.call(configurationOptions.selectElement.options, option => (option.textContent || option.innerText) === query)[0]\n\t\tif (requestedOption) { requestedOption.selected = true }\n\t\t// trigger change event on original select element\n\t\tconst event = new Event('change', { bubbles: true, cancelable: false})\n\t\tconfigurationOptions.selectElement.dispatchEvent(event)\n\t})\n\n\tif (configurationOptions.selectElement.value || configurationOptions.value === undefined) {\n\t\tconst option = configurationOptions.selectElement.options[configurationOptions.selectElement.options.selectedIndex]\n\t\tconfigurationOptions.value = option.textContent || option.innerText\n\t}\n\n\tif (configurationOptions.name === undefined) { configurationOptions.name = '' }\n\tif (configurationOptions.id === undefined) {\n\t\tif (configurationOptions.selectElement.id === undefined) {\n\t\t\tconfigurationOptions.id = ''\n\t\t} else {\n\t\t\tconfigurationOptions.id = configurationOptions.selectElement.id\n\t\t}\n\t}\n\tif (configurationOptions.autoselect === undefined) { configurationOptions.autoselect = true }\n\n\tconst element = document.createElement('div')\n\n\tconfigurationOptions.selectElement.parentNode.insertBefore(element, configurationOptions.selectElement)\n\n\t// eslint-disable-next-line new-cap\n\trender(AutoComplete({\n\t\t...configurationOptions,\n\t}), element)\n\n\tconfigurationOptions.selectElement.style.display = 'none'\n\tconfigurationOptions.selectElement.id = configurationOptions.selectElement.id + '-select'\n}\n\nAutoComplete.defaultProps = defaultProps;\nAutoComplete.propTypes = propTypes;"],"sourceRoot":""}